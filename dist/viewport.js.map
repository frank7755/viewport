{"version":3,"sources":["viewport.js"],"names":["global","factory","exports","module","require","define","amd","Viewport","jQuery","this","$","typeOf","value","type","toLowerCase","Array","isArray","realType","toString","call","isString","isNumber","isElement","tester","document","createElement","appendChild","error","nodeType","patchThreshold","threshold","absolute","isFinite","Math","abs","set","length","i","push","patchViewport","viewport","window","compatMode","documentElement","body","options","Error","context","events","id","expando","_viewport","_initOptions","_findTargets","_init","Object","prototype","delay","extend","target","skipHidden","thresholdBorderReaching","find","contains","filter","_filterTargets","width","height","result","offsetTop","offsetLeft","viewportRect","getBoundingClientRect","top","round","parseFloat","css","left","each","index","element","rect","bottom","right","_viewChange","emitter","vertical","horizontal","is","innerWidth","innerHeight","scrollWidth","scrollHeight","event","scrollTop","scrollLeft","offsetY","offsetX","emit","changeViewport","e","handler","namespace","timer","clearTimeout","setTimeout","on","Callbacks","add","off","arguments","remove","data","slice","fireWith","refresh","destroy"],"mappings":"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"}