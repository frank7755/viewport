{"version":3,"sources":["viewport.js"],"names":["global","factory","exports","module","require","define","amd","Viewport","jQuery","this","$","typeOf","value","type","toLowerCase","Array","isArray","realType","toString","call","stringType","arrayType","numberType","elementType","tester","document","createElement","appendChild","error","nodeType","patchThreshold","threshold","absolute","isFinite","Math","abs","set","length","i","push","patchViewport","viewport","window","compatMode","documentElement","body","options","Error","context","events","id","expando","__viewport","__initOptions","__findTarget","__init","Object","prototype","extend","delay","target","skipHidden","thresholdBorderReaching","find","contains","filter","__filterTargetInViewport","width","height","result","offsetTop","offsetLeft","viewportRect","getBoundingClientRect","top","round","parseFloat","css","left","each","index","element","rect","bottom","right","__changeViewport","emitter","vertical","horizontal","is","innerWidth","innerHeight","scrollWidth","scrollHeight","event","scrollTop","scrollLeft","offsetY","offsetX","emit","changeViewport","e","handler","namespace","timer","clearTimeout","setTimeout","on","Callbacks","add","off","arguments","remove","data","slice","fireWith","refresh","destroy"],"mappings":"CAAC,SAAUA,EAAQC,GACE,gBAAZC,UAA0C,mBAAXC,QAAyBA,OAAOD,QAAUD,EAAQG,QAAQ,WAC9E,kBAAXC,SAAyBA,OAAOC,IAAMD,OAAO,YAAa,UAAWJ,GAC3ED,EAAOO,SAAWN,EAAQD,EAAOQ,SAClCC,KAAM,SAAWC,GAAK,YA0BtB,SAASC,GAAOC,EAAOC,GAKrB,GAHAA,GAAQA,EAAO,IAAIC,cAGN,UAATD,GAAoBE,MAAMC,QAC5B,MAAOD,OAAMC,QAAQJ,EAIvB,IAAIK,GAAWC,EAASC,KAAKP,GAAOE,aAGpC,QAAQD,GACN,IAAK,MAEH,MAAoB,oBAAbI,GAAkCL,IAAUA,CACrD,SAEE,MAAOK,KAAa,WAAaJ,EAAO,KAU9C,QAASO,GAAWR,GAClB,MAAOD,GAAOC,EAAO,UASvB,QAASS,GAAUT,GACjB,MAAOD,GAAOC,EAAO,SASvB,QAASU,GAAWV,GAClB,MAAOD,GAAOC,EAAO,UASvB,QAASW,GAAYX,GAEnB,IAAKA,EAAO,OAAO,CAGnB,IAAIY,GAASC,SAASC,cAAc,MAGpC,KACEF,EAAOG,YAAYf,GACnB,MAAOgB,GACP,OAAO,EAIT,MAA0B,KAAnBhB,EAAMiB,SA8Bf,QAASC,GAAeC,EAAWC,GACjC,GAAIV,EAAWS,IAAcE,SAASF,GAChCC,IACFD,EAAYG,KAAKC,IAAIJ,IAGvBA,GAAaA,EAAWA,EAAWA,EAAWA,OACzC,IAAIV,EAAUU,GAAY,CAK/B,IAAK,GAJDnB,GACAwB,KACAC,EAASN,EAAUM,OAEdC,EAAI,EAAGA,EAAID,GACdD,EAAIC,OAAS,EADSC,IAExB1B,EAAQmB,EAAUO,GAEdhB,EAAWV,IAAUqB,SAASrB,IAChCwB,EAAIG,KAAKP,EAAWE,KAAKC,IAAIvB,GAASA,EAO5C,QAAQwB,EAAIC,QACV,IAAK,GACHN,GAAa,EAAG,EAAG,EAAG,EACtB,MACF,KAAK,GACHA,GAAaK,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GACzC,MACF,KAAK,GACHL,GAAaK,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GACzC,MACF,KAAK,GACHL,GAAaK,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GACzC,MACF,SACEL,EAAYK,OAIhBL,IAAa,EAAG,EAAG,EAAG,EAGxB,OAAOA,GAST,QAASS,GAAcC,GACrB,MAAOA,KAAaC,OACS,eAAxBjB,SAASkB,WAA8BlB,SAASmB,gBAAkBnB,SAASoB,KAC5EJ,EAUN,QAASlC,GAASkC,EAAUK,GAC1B,GAAIJ,SAAWA,QAAUnB,EAAYkB,GACnC,KAAM,IAAIM,OAAM,2CAGlB,IAAIC,GAAUvC,IAEduC,GAAQC,UACRD,EAAQE,GAAKC,IACbH,EAAQP,SAAW/B,EAAE+B,GACrBO,EAAQI,WAAa1C,EAAE8B,EAAcC,IAGrCO,EAAQK,cAAcP,GACtBE,EAAQM,eACRN,EAAQO,SAlNV7C,EAAI,WAAaA,GAAIA,EAAE,WAAaA,CAepC,IAAIQ,GAAWsC,OAAOC,UAAUvC,SAmG5BiC,EAAU,CA6Wd,OA5PA5C,GAASkD,WACPJ,cAAe,SAASP,GACtBA,EAAUpC,EAAEgD,QACVC,MAAO,IACPC,OAAQ,KACR7B,UAAW,EACX8B,YAAY,EACZC,wBAAyB,GACxBhB,EAEH,IAAIa,GAAQb,EAAQa,KAEpBA,GAAQrC,EAAWqC,IAAU1B,SAAS0B,GAASzB,KAAKC,IAAIwB,GAAS,IAEjEb,EAAQa,MAAQA,EAChBb,EAAQf,UAAYD,EAAegB,EAAQf,WAC3Ce,EAAQgB,wBAA0BhC,EAAegB,EAAQgB,yBAAyB,GAElFrD,KAAKqC,QAAUA,GAEjBQ,aAAc,WACZ,GAAIN,GAAUvC,KACVqC,EAAUE,EAAQF,QAClBc,EAASd,EAAQc,OACjBR,EAAaJ,EAAQI,UAGvBQ,GADExC,EAAWwC,GACJR,EAAWW,KAAKH,GAChBrC,EAAYqC,IAAWlD,EAAEsD,SAASZ,EAAW,GAAIQ,GACjDlD,EAAEkD,GACFA,YAAkBlD,GAClBkD,EAAOK,OAAO,WACrB,MAAOvD,GAAEsD,SAASZ,EAAW,GAAI3C,QAG1B,KAGXuC,EAAQY,OAASA,GAEnBM,yBAA0B,SAASC,EAAOC,GACxC,GAAIC,MACArB,EAAUvC,KACVmD,EAASZ,EAAQY,MAGrB,MAAMA,YAAkBlD,KAAwB,IAAlBkD,EAAOvB,OAAc,MAAOgC,EAE1D,IAAIvB,GAAUE,EAAQF,QAClBf,EAAYe,EAAQf,UACpB8B,EAAaf,EAAQe,WAGrBS,EAAY,EACZC,EAAa,EACb9B,EAAWO,EAAQP,QAGvB,IAAIA,EAAS,KAAOC,OAAQ,CAC1B,GAAI8B,GAAe/B,EAAS,GAAGgC,uBAE/BH,GAAYE,EAAaE,KAAOxC,KAAKyC,MAAMC,WAAWnC,EAASoC,IAAI,uBAAyB,GAC5FN,EAAaC,EAAaM,MAAQ5C,KAAKyC,MAAMC,WAAWnC,EAASoC,IAAI,wBAA0B,GA6BjG,MAzBAjB,GAAOmB,KAAK,SAASC,EAAOC,GAC1B,GAAIC,GAAOD,EAAQR,uBAGnB,IAAgB,GAAZS,EAAKR,KAA2B,GAAfQ,EAAKC,QAA4B,GAAbD,EAAKJ,MAA2B,GAAdI,EAAKE,MACzDvB,GACHQ,EAAO9B,KAAK0C,OAET,CAEL,GAAIP,GAAMQ,EAAKR,IAAMJ,EACjBa,EAASD,EAAKC,OAASb,EACvBQ,EAAOI,EAAKJ,KAAOP,EACnBa,EAAQF,EAAKE,MAAQb,CAGnBG,GAAM3C,EAAU,IAAMqC,GACrBgB,EAAQrD,EAAU,IAAM,GACxBoD,EAASpD,EAAU,IAAM,GACzB+C,EAAO/C,EAAU,IAAMoC,GAC5BE,EAAO9B,KAAK0C,MAKXZ,GAETgB,iBAAkB,SAASC,EAASC,EAAUC,GAC5C,GAAIxC,GAAUvC,KACVqC,EAAUE,EAAQF,QAClBL,EAAWO,EAAQP,SACnBW,EAAaJ,EAAQI,WACrBU,EAA0BhB,EAAQgB,uBAEtC,IAAIrB,EAAS,KAAOC,QAAWD,EAASgD,GAAG,YAA3C,CAEA,GAAItB,GAAQ1B,EAASiD,aACjBtB,EAAS3B,EAASkD,cAClBC,EAAcxC,EAAW,GAAGwC,YAC5BC,EAAezC,EAAW,GAAGyC,aAG7BC,IA8BJ,OA3BAA,GAAMC,UAAYtD,EAASsD,YAC3BD,EAAME,WAAavD,EAASuD,aAC5BF,EAAMG,QAAUH,EAAMC,UAAYR,EAClCO,EAAMI,QAAUJ,EAAME,WAAaR,EAGnCM,EAAMR,QAAUA,EAGhBQ,EAAMjF,KAAO,aAGbiF,EAAMrD,UAAY0B,EAAOC,EAAQwB,EAAaC,GAG9CC,EAAMlC,OAASZ,EAAQkB,yBAAyBC,EAAOC,GAGvD0B,EAAMpB,IAAMoB,EAAMC,UAAYjC,EAAwB,IAAM,EAC5DgC,EAAMV,MAAQjB,EAAQ2B,EAAME,WAAalC,EAAwB,IAAM8B,EACvEE,EAAMX,OAASf,EAAS0B,EAAMC,UAAYjC,EAAwB,IAAM+B,EACxEC,EAAMhB,KAAOgB,EAAME,WAAalC,EAAwB,IAAM,EAG9Dd,EAAQmD,KAAKL,EAAMjF,KAAMiF,GAGlBA,IAETvC,OAAQ,WAWN,QAAS6C,GAAeC,GAEtB,GAAIP,GAAQ9C,EAAQqC,iBAAiBgB,EAAExF,KAAMkF,EAAWC,EAGpDF,KACFC,EAAYD,EAAMC,UAClBC,EAAaF,EAAME,YAhBvB,GAqBIM,GArBAtD,EAAUvC,KACVyC,EAAKF,EAAQE,GACbJ,EAAUE,EAAQF,QAClBL,EAAWO,EAAQP,SACnBsD,EAAYtD,EAASsD,YACrBC,EAAavD,EAASuD,aACtBO,EAAY,aAAerD,CAkB/B,IAAIJ,EAAQa,MAAO,CACjB,GAAI6C,EAGJF,GAAU,SAASD,GAEjBI,aAAaD,GAGbA,EAAQE,WAAW,WACjBN,EAAeC,IACdvD,EAAQa,YAGb2C,GAAUF,CAIZ3D,GAASkE,GAAG,SAAWJ,EAAY,UAAYA,EAAWD,GAG1DtD,EAAQqC,iBAAiB,OAAQU,EAAWC,IAE9CW,GAAI,SAASb,EAAOQ,GAClB,GAAItD,GAAUvC,IAOd,OALAuC,GAAQC,OAAO6C,GAAS9C,EAAQC,OAAO6C,IAClCpF,EAAEkG,UAAU,sBAEjB5D,EAAQC,OAAO6C,GAAOe,IAAIP,GAEnBtD,GAET8D,IAAK,SAAShB,EAAOQ,GACnB,GAAItD,GAAUvC,IAEd,QAAQsG,UAAU1E,QAChB,IAAK,GACHW,EAAQC,SACR,MACF,KAAK,SACID,GAAQC,OAAO6C,EACtB,MACF,SACE9C,EAAQC,OAAO6C,IAAU9C,EAAQC,OAAO6C,GAAOkB,OAAOV,GAI1D,MAAOtD,IAETmD,KAAM,SAASL,GACb,GAAI9C,GAAUvC,KACVwG,KAAUC,MAAM/F,KAAK4F,UAAW,EAOpC,OALA/D,GAAQC,OAAO6C,GAAS9C,EAAQC,OAAO6C,IAClCpF,EAAEkG,UAAU,sBAEjBnG,KAAKwC,OAAO6C,GAAOqB,SAASnE,EAASiE,GAE9BjE,GAEToE,QAAS,SAAStE,GAChB,GAAIE,GAAUvC,KACVgC,EAAWO,EAAQP,QAUvB,OAPIsE,WAAU1E,QAAU1B,EAAOmC,EAAS,WACtCE,EAAQK,cAAc3C,EAAEgD,OAAOV,EAAQF,QAASA,IAGlDE,EAAQM,eACRN,EAAQqC,iBAAiB,UAAW5C,EAASsD,YAAatD,EAASuD,cAE5DhD,GAETqE,QAAS,WACP,GAAIrE,GAAUvC,KACVgC,EAAWO,EAAQP,SACnB8D,EAAY,aAAevD,EAAQE,EAGvCT,GAASqE,IAAI,SAAWP,GACxB9D,EAASqE,IAAI,SAAWP,KAIrBhG","file":"viewport.js"}